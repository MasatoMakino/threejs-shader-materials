(()=>{"use strict";var t,i={197:(t,i,e)=>{var a,n=e(753);!function(t){t[t.vertical=4]="vertical",t[t.horizontal=3]="horizontal",t[t.radial=5]="radial"}(a||(a={})),n.BKk,n.BKk,n.BKk,n.BKk;var o=e(293);class s extends o.zE5{constructor(t){super(t),this.scaleY=(0,o.PiW)(2),this.smoothMin=(0,o.PiW)(.93),this.smoothMax=(0,o.PiW)(1),this.transparent=!0,this.side=2,this.depthTest=!1,this.opacityNode=o.nB0.mul((0,o.gnS)(o.MI8.y.mul(this.scaleY)).smoothstep(this.smoothMin,this.smoothMax))}}var r=e(603);(0,o.Fn)((([t,i,e,a,n,s])=>d(t,i,e,a,n,s,(0,o.eR5)(0,0,1))));const d=(0,o.Fn)((([t,i,e,a,n,s,r])=>{const d=(0,o.eR5)(0,0,0).toVar(),l=(0,o.T9B)(0,o.ono.dot((0,o.eR5)(r))),c=(0,o.jbE)(1,l);c.assign((0,o.n7C)(c,i)),d.rgb.addAssign(t.mul(c.mul(e)));const h=(0,o.n7C)(l,n);return d.rgb.addAssign(a.mul(h.mul(s))),d}));o.P8l;class l{static initColorGUI(t,i,e="color"){const a={},n=i[e];return a[e]=n.getHex(),t.addColor(a,e).onChange((t=>{n.setHex(t)})),a}static initColorNodeGUI(t,i,e="color"){const a={},n=i[e];return a[e]=n.value.getHex(),t.addColor(a,e).onChange((t=>{n.value.setHex(t)})),a}static initBasicMaterialGUI(t,i,e="Material"){const a=t.addFolder(e);return this.initMaterialFolder(a,i),a.open(),a}static initMaterialGUI(t,i,e="Material"){const a=this.initBasicMaterialGUI(t,i,e);this.initColorGUI(a,i,"emissive")}static initMaterialFolder(t,i,e=!1){this.initColorGUI(t,i),t.add(i,"transparent");const a=e?"opacity":"uniformOpacity";t.add(i,a,0,1)}static initSpriteMaterialGUI(t,i,e="Material"){const a=t.addFolder(e);this.initMaterialFolder(a,i),a.open()}static initGridMaterialGUI(t,i){this.initMaterialGUI(t,i);const e={mask:"",alphaMap:""},a=t.addFolder("WavyGridMaterial");return a.add(i,"isReversed"),a.add(i,"division",2,256).step(1),a.add(i,"divisionScaleX",0,4).step(1),a.add(e,"mask",{none:"",earth:"./textures/landmask.png"}).onChange((t=>{i.maskTexture=""===t?null:(new n.Tap).load(t)})),a.add(e,"alphaMap",{none:"",earth:"./textures/landmask.png"}).onChange((t=>{i.alphaMap=""===t?null:(new n.Tap).load(t)})),a.open(),a}static initWavyMaterialGUI(t,i){const e=this.initGridMaterialGUI(t,i).addFolder("WavyAnimation");e.add(i,"isAnimate"),e.add(i,"speed",-2,2),e.add(i,"waveFrequency",0,1),e.add(i,"wavePow",0,4),e.add(i,"direction",{horizontal:a.horizontal,vertical:a.vertical,radial:a.radial}),e.add(i,"raisedBottom",0,1),e.open()}static initAnimationGUI(t,i,e="Animation"){const a=t.addFolder(e);a.add(i,"isAnimate"),a.add(i,"speed",-2,2),a.open()}static initRimGUI(t,i,e="Rim Effect Material"){const a=t.addFolder(e);l.initColorGUI(a,i,"rimColor"),a.add(i,"rimStrength",0,4).step(.01),a.add(i,"rimPow",0,4).step(.01),l.initColorGUI(a,i,"insideColor"),a.add(i,"insideStrength",0,4).step(.01),a.add(i,"insidePow",0,8).step(.01),a.open()}static initExpansionGUI(t,i,e="ExpansionMaterial"){const a=t.addFolder("ExpansionMaterial");a.add(i,"expansionStrength",-12,12).step(.01),a.open()}static initFBMTilingGUI(t,i,e="FBM Tiling"){const a=t.addFolder("FBM Tiling");a.add(i,"tiles",1,8).step(1),a.add(i,"hashLoop",2,16).step(1),a.add(i,"amp",0,2).step(.01),a.open()}static initSkyGUI(t,i,e,a){const n={turbidity:10,rayleigh:.15,mieCoefficient:.005,mieDirectionalG:.8,inclination:.07,azimuth:.25,exposure:.75},o=4e5;function s(){const t=i.material.uniforms;t.turbidity.value=n.turbidity,t.rayleigh.value=n.rayleigh,t.mieCoefficient.value=n.mieCoefficient,t.mieDirectionalG.value=n.mieDirectionalG;const s=Math.PI*(n.inclination-.5),r=2*Math.PI*(n.azimuth-.5);e.position.x=o*Math.cos(r),e.position.y=o*Math.sin(r)*Math.sin(s),e.position.z=o*Math.sin(r)*Math.cos(s),t.sunPosition.value.copy(e.position),a.toneMappingExposure=n.exposure}s();const r=t.addFolder("Sky");r.add(n,"turbidity",1,20,.1).onChange(s),r.add(n,"rayleigh",0,4,.001).onChange(s),r.add(n,"mieCoefficient",0,.1,.001).onChange(s),r.add(n,"mieDirectionalG",0,1,.001).onChange(s),r.add(n,"inclination",0,1,1e-4).onChange(s),r.add(n,"azimuth",0,1,1e-4).onChange(s),r.add(n,"exposure",0,1,1e-4).onChange(s),r.open()}}var c=e(580),h=e(785);class p{static initScene(){return new o.Z58}static initLight(t,i=Math.PI){const e=new o.$p8(16777215,i);return t.add(e),e}static initCamera(t,i,e,a=400){const n=new o.ubm(45,i/e,1,a);return n.position.set(0,0,100),n.updateMatrixWorld(!1),t.add(n),n}static initControl(t,i){let e;null!=i&&(e=i.domElement);const a=new c.N(t,e);return a.update(),a}static initRenderer(t,i,e=0,a=!0){const n=new o.uV1({antialias:a});return n.setClearColor(new o.Q1f(e)),n.setSize(t,i),n.setPixelRatio(window.devicePixelRatio),n.domElement.style.backgroundColor="#"+e.toString(16).padStart(6,"0"),document.body.appendChild(n.domElement),console.log("three.js revision: ",o.sPf),n}static initHelper(t){const i=new o.IzY(30);t.add(i)}static initSky(t,i,e){e.toneMapping=o.FV;const a=new o.eaF(new o.Gu$(2e4,16,8),new o.V9B({color:16777215}));a.position.y=-7e5,a.visible=!1,t.add(a);const n=new h.m;n.scale.setScalar(45e3),t.add(n),l.initSkyGUI(i,n,a,e)}}var u=e(638);class m{constructor(){const t=p.initScene();t.fog=new o.jUj(0,80,160);const i=p.initLight(t,Math.PI),e=p.initCamera(t,640,480),a=p.initRenderer(640,480,0,!0,!0);p.initControl(e,a),p.initHelper(t),this.initObject(t,i),r.w.on("tick",(i=>{a.renderAsync(t,e)}))}initObject(t){const i=new o.HiM(16777215);i.power=3e4,i.position.set(5,10,6),t.add(i);const e=new o.F1l(i);t.add(e);const a=new o.O3Y(10,4,32,32),n=new s({opacity:.75,color:16711680}),r=new o.eaF(a,n);t.add(r),this.initGUI(n)}initGUI(t){const i=new u.Ay;l.initMaterialFolder(i,t,!0);const e={scaleY:t.scaleY.value,smoothMin:t.smoothMin.value,smoothMax:t.smoothMax.value},a=()=>{t.scaleY.value=e.scaleY,t.smoothMin.value=e.smoothMin,t.smoothMax.value=e.smoothMax},n=i.addFolder("ContourNodeMaterial");n.add(e,"scaleY",0,4).onChange(a),n.add(e,"smoothMin",0,1).onChange(a),n.add(e,"smoothMax",0,1).onChange(a)}}window.onload=()=>{new m}}},e={};function a(t){var n=e[t];if(void 0!==n)return n.exports;var o=e[t]={exports:{}};return i[t](o,o.exports,a),o.exports}a.m=i,t=[],a.O=(i,e,n,o)=>{if(!e){var s=1/0;for(c=0;c<t.length;c++){for(var[e,n,o]=t[c],r=!0,d=0;d<e.length;d++)(!1&o||s>=o)&&Object.keys(a.O).every((t=>a.O[t](e[d])))?e.splice(d--,1):(r=!1,o<s&&(s=o));if(r){t.splice(c--,1);var l=n();void 0!==l&&(i=l)}}return i}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[e,n,o]},a.d=(t,i)=>{for(var e in i)a.o(i,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},a.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),a.j=272,(()=>{var t={272:0};a.O.j=i=>0===t[i];var i=(i,e)=>{var n,o,[s,r,d]=e,l=0;if(s.some((i=>0!==t[i]))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(d)var c=d(a)}for(i&&i(e);l<s.length;l++)o=s[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(c)},e=self.webpackChunk_masatomakino_threejs_shader_materials=self.webpackChunk_masatomakino_threejs_shader_materials||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))})();var n=a.O(void 0,[121],(()=>a(197)));n=a.O(n)})();