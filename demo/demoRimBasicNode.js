(()=>{"use strict";var i,e={151:(i,e,t)=>{var n,a=t(753);!function(i){i[i.vertical=4]="vertical",i[i.horizontal=3]="horizontal",i[i.radial=5]="radial"}(n||(n={})),a.BKk,a.BKk,a.BKk,a.BKk;var o=t(293);o.zE5;var r=t(603);const s=(0,o.Fn)((([i,e,t,n,a,r])=>d(i,e,t,n,a,r,(0,o.eR5)(0,0,1)))),d=(0,o.Fn)((([i,e,t,n,a,r,s])=>{const d=(0,o.eR5)(0,0,0).toVar(),l=(0,o.T9B)(0,o.ono.dot((0,o.eR5)(s))),c=(0,o.jbE)(1,l);c.assign((0,o.n7C)(c,e)),d.rgb.addAssign(i.mul(c.mul(t)));const h=(0,o.n7C)(l,a);return d.rgb.addAssign(n.mul(h.mul(r))),d}));class l extends o.P8l{constructor(){super(),this.rimColor=(0,o.PiW)(new a.Q1f(1,1,1)),this.rimStrength=(0,o.PiW)(1),this.rimPow=(0,o.PiW)(1),this.insideColor=(0,o.PiW)(new a.Q1f(0,0,0)),this.insideStrength=(0,o.PiW)(1),this.insidePow=(0,o.PiW)(1),this.colorNode=o.HMD.add(s(this.rimColor,this.rimPow,this.rimStrength,this.insideColor,this.insidePow,this.insideStrength))}}class c{static initColorGUI(i,e,t="color"){const n={},a=e[t];return n[t]=a.getHex(),i.addColor(n,t).onChange((i=>{a.setHex(i)})),n}static initColorNodeGUI(i,e,t="color"){const n={},a=e[t];return n[t]=a.value.getHex(),i.addColor(n,t).onChange((i=>{a.value.setHex(i)})),n}static initBasicMaterialGUI(i,e,t="Material"){const n=i.addFolder(t);return this.initMaterialFolder(n,e),n.open(),n}static initMaterialGUI(i,e,t="Material"){const n=this.initBasicMaterialGUI(i,e,t);this.initColorGUI(n,e,"emissive")}static initMaterialFolder(i,e,t=!1){this.initColorGUI(i,e),i.add(e,"transparent");const n=t?"opacity":"uniformOpacity";i.add(e,n,0,1)}static initSpriteMaterialGUI(i,e,t="Material"){const n=i.addFolder(t);this.initMaterialFolder(n,e),n.open()}static initGridMaterialGUI(i,e){this.initMaterialGUI(i,e);const t={mask:"",alphaMap:""},n=i.addFolder("WavyGridMaterial");return n.add(e,"isReversed"),n.add(e,"division",2,256).step(1),n.add(e,"divisionScaleX",0,4).step(1),n.add(t,"mask",{none:"",earth:"./textures/landmask.png"}).onChange((i=>{e.maskTexture=""===i?null:(new a.Tap).load(i)})),n.add(t,"alphaMap",{none:"",earth:"./textures/landmask.png"}).onChange((i=>{e.alphaMap=""===i?null:(new a.Tap).load(i)})),n.open(),n}static initWavyMaterialGUI(i,e){const t=this.initGridMaterialGUI(i,e).addFolder("WavyAnimation");t.add(e,"isAnimate"),t.add(e,"speed",-2,2),t.add(e,"waveFrequency",0,1),t.add(e,"wavePow",0,4),t.add(e,"direction",{horizontal:n.horizontal,vertical:n.vertical,radial:n.radial}),t.add(e,"raisedBottom",0,1),t.open()}static initAnimationGUI(i,e,t="Animation"){const n=i.addFolder(t);n.add(e,"isAnimate"),n.add(e,"speed",-2,2),n.open()}static initRimGUI(i,e,t="Rim Effect Material"){const n=i.addFolder(t);c.initColorGUI(n,e,"rimColor"),n.add(e,"rimStrength",0,4).step(.01),n.add(e,"rimPow",0,4).step(.01),c.initColorGUI(n,e,"insideColor"),n.add(e,"insideStrength",0,4).step(.01),n.add(e,"insidePow",0,8).step(.01),n.open()}static initExpansionGUI(i,e,t="ExpansionMaterial"){const n=i.addFolder("ExpansionMaterial");n.add(e,"expansionStrength",-12,12).step(.01),n.open()}static initFBMTilingGUI(i,e,t="FBM Tiling"){const n=i.addFolder("FBM Tiling");n.add(e,"tiles",1,8).step(1),n.add(e,"hashLoop",2,16).step(1),n.add(e,"amp",0,2).step(.01),n.open()}static initSkyGUI(i,e,t,n){const a={turbidity:10,rayleigh:.15,mieCoefficient:.005,mieDirectionalG:.8,inclination:.07,azimuth:.25,exposure:.75},o=4e5;function r(){const i=e.material.uniforms;i.turbidity.value=a.turbidity,i.rayleigh.value=a.rayleigh,i.mieCoefficient.value=a.mieCoefficient,i.mieDirectionalG.value=a.mieDirectionalG;const r=Math.PI*(a.inclination-.5),s=2*Math.PI*(a.azimuth-.5);t.position.x=o*Math.cos(s),t.position.y=o*Math.sin(s)*Math.sin(r),t.position.z=o*Math.sin(s)*Math.cos(r),i.sunPosition.value.copy(t.position),n.toneMappingExposure=a.exposure}r();const s=i.addFolder("Sky");s.add(a,"turbidity",1,20,.1).onChange(r),s.add(a,"rayleigh",0,4,.001).onChange(r),s.add(a,"mieCoefficient",0,.1,.001).onChange(r),s.add(a,"mieDirectionalG",0,1,.001).onChange(r),s.add(a,"inclination",0,1,1e-4).onChange(r),s.add(a,"azimuth",0,1,1e-4).onChange(r),s.add(a,"exposure",0,1,1e-4).onChange(r),s.open()}}var h=t(580),p=t(785);class u{static initScene(){return new o.Z58}static initLight(i,e=Math.PI){const t=new o.$p8(16777215,e);return i.add(t),t}static initCamera(i,e,t,n=400){const a=new o.ubm(45,e/t,1,n);return a.position.set(0,0,100),a.updateMatrixWorld(!1),i.add(a),a}static initControl(i,e){let t;null!=e&&(t=e.domElement);const n=new h.N(i,t);return n.update(),n}static initRenderer(i,e,t=0,n=!0){const a=new o.uV1({antialias:n});return a.setClearColor(new o.Q1f(t)),a.setSize(i,e),a.setPixelRatio(window.devicePixelRatio),a.domElement.style.backgroundColor="#"+t.toString(16).padStart(6,"0"),document.body.appendChild(a.domElement),console.log("three.js revision: ",o.sPf),a}static initHelper(i){const e=new o.IzY(30);i.add(e)}static initSky(i,e,t){t.toneMapping=o.FV;const n=new o.eaF(new o.Gu$(2e4,16,8),new o.V9B({color:16777215}));n.position.y=-7e5,n.visible=!1,i.add(n);const a=new p.m;a.scale.setScalar(45e3),i.add(a),c.initSkyGUI(e,a,n,t)}}var m=t(638);class g{constructor(){const i=u.initScene();i.fog=new a.jUj(0,80,160),u.initLight(i);const e=u.initCamera(i,1280,640),t=u.initRenderer(1280,640,0,!0);u.initControl(e,t),u.initHelper(i);const n=this.initObject(i);r.w.on("tick",(n=>{t.renderAsync(i,e)})),this.initGUI(n)}initObject(i){const e=new a.iNn(20,20,20),t=new a.Ho_(6,6,20,32),n=new a.O3Y(12,6,32,32),o=new l({fog:void 0!==i.fog});o.opacity=.65,o.color=new a.Q1f(13073),o.rimColor.value=new a.Q1f(3359744),o.insideColor.value=new a.Q1f(0),o.rimPow.value=2,o.insidePow.value=6,o.insideStrength.value=.5,o.transparent=!0;const r=new a.eaF(e,o);r.position.x=-40;const s=new a.eaF(n,o),d=new a.eaF(t,o);return d.position.x=40,i.add(r,s,d),o}initGUI(i){const e=new m.Ay;c.initMaterialFolder(e,i,!0);const t=e.addFolder("rimBasicNodeMaterial"),n={rimColor:i.rimColor.value.getHex(),rimStrength:i.rimStrength.value,rimPow:i.rimPow.value,insideColor:i.insideColor.value.getHex(),insideStrength:i.insideStrength.value,insidePow:i.insidePow.value},a=()=>{i.rimStrength.value=n.rimStrength,i.rimPow.value=n.rimPow,i.insideStrength.value=n.insideStrength,i.insidePow.value=n.insidePow};c.initColorNodeGUI(t,i,"rimColor"),t.add(n,"rimStrength",0,4).step(.01).onChange(a),t.add(n,"rimPow",0,4).step(.01).onChange(a),c.initColorNodeGUI(t,i,"insideColor"),t.add(n,"insideStrength",0,4).step(.01).onChange(a),t.add(n,"insidePow",0,8).step(.01).onChange(a)}}window.onload=()=>{new g}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,i=[],n.O=(e,t,a,o)=>{if(!t){var r=1/0;for(c=0;c<i.length;c++){for(var[t,a,o]=i[c],s=!0,d=0;d<t.length;d++)(!1&o||r>=o)&&Object.keys(n.O).every((i=>n.O[i](t[d])))?t.splice(d--,1):(s=!1,o<r&&(r=o));if(s){i.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=i.length;c>0&&i[c-1][2]>o;c--)i[c]=i[c-1];i[c]=[t,a,o]},n.d=(i,e)=>{for(var t in e)n.o(e,t)&&!n.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})},n.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),n.j=832,(()=>{var i={832:0};n.O.j=e=>0===i[e];var e=(e,t)=>{var a,o,[r,s,d]=t,l=0;if(r.some((e=>0!==i[e]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(d)var c=d(n)}for(e&&e(t);l<r.length;l++)o=r[l],n.o(i,o)&&i[o]&&i[o][0](),i[o]=0;return n.O(c)},t=self.webpackChunk_masatomakino_threejs_shader_materials=self.webpackChunk_masatomakino_threejs_shader_materials||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var a=n.O(void 0,[121],(()=>n(151)));a=n.O(a)})();